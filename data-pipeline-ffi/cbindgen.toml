# Copyright 2021-Present Datadog, Inc. https://www.datadoghq.com/
# SPDX-License-Identifier: Apache-2.0

language = "C"
cpp_compat = true
tab_width = 2
header = """// Copyright 2024-Present Datadog, Inc. https://www.datadoghq.com/
// SPDX-License-Identifier: Apache-2.0

typedef struct ddog_SpanBytes ddog_SpanBytes;
typedef struct ddog_SpanLinkBytes ddog_SpanLinkBytes;
typedef struct ddog_SpanEventBytes ddog_SpanEventBytes;
typedef struct ddog_AttributeAnyValueBytes ddog_AttributeAnyValueBytes;
typedef struct ddog_AttributeArrayValueBytes ddog_AttributeArrayValueBytes;
"""
include_guard = "DDOG_DATA_PIPELINE_H"
includes = ["common.h"]

[export]
prefix = "ddog_"
renaming_overrides_prefixing = true

[export.rename]
"ByteSlice" = "ddog_ByteSlice"
"CharSlice" = "ddog_CharSlice"
"Slice_U8" = "ddog_Slice_U8"
"Slice_CChar" = "ddog_Slice_CChar"
"Error" = "ddog_Error"
"ExporterResponse" = "ddog_TraceExporterResponse"
"ExporterErrorCode" = "ddog_TraceExporterErrorCode"
"ExporterError" = "ddog_TraceExporterError"
"Span" = "ddog_Span"
"SpanBytes" = "ddog_SpanBytes"
"SpanText" = "ddog_SpanText"

[export.mangle]
rename_types = "PascalCase"

[enum]
prefix_with_name = true
rename_variants = "ScreamingSnakeCase"

[fn]
must_use = "DDOG_CHECK_RETURN"

[parse]
parse_deps = true
include = ["ddcommon", "ddcommon-ffi", "data-pipeline"]
